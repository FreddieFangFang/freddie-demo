新赠 商品级别的限购，理论上，只要在社区团购的业务线中，增加 商品级别的 业务处理

刷数据：

INSERT INTO goods_limit_info(
	pid ,
	store_id ,
	limit_id ,
	limit_type ,
	goods_id ,
	limit_level ,
	limit_num ,
	sold_num ,
	version ,
	is_deleted ,
	create_time ,
	update_time
) SELECT
	b.pid AS pid ,
	b.store_id AS store_id ,
	b.limit_id AS limit_id ,
	0 AS limit_type ,
	b.goods_id AS goods_id ,
	0 AS limit_level ,
	0 AS limit_type ,
	0 AS limit_num ,
	0 AS sold_num ,
	0 AS version ,
	NOW() AS create_time ,
	NOW() AS update_time
FROM
	limit_info a ,
	sku_limit_info b
WHERE
	a.limit_id = b.limit_id
AND a.biz_type = 19
AND a.limit_id NOT IN(
	SELECT
		c.limit_id
	FROM
		limit_info c ,
		goods_limit_info d
	WHERE
		c.limit_id = d.limit_id
	AND c.biz_type = 19
	AND d.limit_level = 0
)
GROUP BY
	b.pid ,
	b.store_id ,
	b.goods_id;

INSERT INTO goods_limit_info(
	pid ,
	store_id ,
	limit_id ,
	limit_type ,
	goods_id ,
	limit_level ,
	limit_num ,
	sold_num ,
	version ,
	is_deleted ,
	create_time ,
	update_time
) SELECT
	b.pid AS pid ,
	b.store_id AS store_id ,
	b.limit_id AS limit_id ,
	0 AS limit_type ,
	b.goods_id AS goods_id ,
	1 AS limit_level ,
	0 AS limit_type ,
	0 AS limit_num ,
	0 AS sold_num ,
	0 AS version ,
	NOW() AS create_time ,
	NOW() AS update_time
FROM
	limit_info a ,
	sku_limit_info b
WHERE
	a.limit_id = b.limit_id
AND a.biz_type = 19
AND a.limit_id NOT IN(
	SELECT
		c.limit_id
	FROM
		limit_info c ,
		goods_limit_info d
	WHERE
		c.limit_id = d.limit_id
	AND c.biz_type = 19
	AND d.limit_level = 1
)
GROUP BY
	b.pid ,
	b.store_id ,
	b.goods_id;

